{% import 'nacholibreAdminBundle::macros.html.twig' as macros %}

<a href="{{ path('nacholibre.news.admin.new') }}" class='btn btn-primary btn-lg'>{{ 'Create' | trans }}</a>
<hr>

<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-body">
                <div class="dataTable_wrapper">
                    <table width="100%" class="table table-striped table-bordered table-hover datatable">
                        <thead>
                            <tr>
                                <th width=5%>{{ 'id' | trans }}</th>
                                <th width=20%>{{ 'title' | trans }}</th>
                                <th>{{ 'active' | trans }}</th>
                                <th>{{ 'comments_enabled' | trans }}</th>
                                <th>{{ 'created' | trans }}</th>
                                <th>{{ 'modified' | trans }}</th>
                                <th>{{ 'actions' | trans }}</th>
                            </tr>
                        </thead>
                        <tbody>
                        {% for post in posts %}
                            <tr>
                                <td><a target='_blank' href="{{ nacholibre_news_post_link(post) }}">{{ post.id }}</a></td>
                                <td>{{ post.title }}</td>
                                <td>{% if post.active %}{{ 'yes' | trans }}{% else %}{{ 'no' | trans }}{% endif %}</td>
                                <td>{% if post.commentsEnabled %}{{ 'yes' | trans }}{% else %}{{ 'no' | trans }}{% endif %}</td>
                                <td>{% if post.createdAt %}{{ post.createdAt | date('Y-m-d H:i:s') }}{% endif %}</td>
                                <td>{% if post.modifiedAt %}{{ post.modifiedAt | date('Y-m-d H:i:s') }}{% endif %}</td>
                                <td>
                                    {{ macros.renderEntryActionButtons(
                                        nacholibre_news_post_link(post),
                                        path('nacholibre.news.admin.edit', {'id': post.id}),
                                        path('nacholibre.news.admin.delete', {'id': post.id})
                                    ) }}
                                </td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

{#
<table>
    <thead>
        <tr>
            <th>{{ 'id' | trans }}</th>
            <th>{{ 'Title' | trans }}</th>
            <th>{{ 'Active' | trans }}</th>
            <th>{{ 'Comments Enabled' | trans }}</th>
            <th>{{ 'Created' | trans }}</th>
            <th>{{ 'Modified' | trans }}</th>
            <th>{{ 'Actions' | trans }}</th>
        </tr>
    </thead>
    <tbody>
    {% for post in posts %}
        <tr>
            <td><a href="{{ path('post_show', { 'id': post.id }) }}">{{ post.id }}</a></td>
            <td>{{ post.title }}</td>
            <td>{% if post.active %}Yes{% else %}No{% endif %}</td>
            <td>{% if post.commentsEnabled %}Yes{% else %}No{% endif %}</td>
            <td>{% if post.createdAt %}{{ post.createdAt | date('Y-m-d H:i:s') }}{% endif %}</td>
            <td>{% if post.modifiedAt %}{{ post.modifiedAt | date('Y-m-d H:i:s') }}{% endif %}</td>
            <td>
                <ul>
                    <li>
                        <a href="{{ path('post_show', { 'id': post.id }) }}">show</a>
                    </li>
                    <li>
                        <a href="{{ path('post_edit', { 'id': post.id }) }}">edit</a>
                    </li>
                </ul>
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>
#}
